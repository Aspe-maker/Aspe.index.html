import pygame
import random

WIDTH, HEIGHT = 800, 400
FPS = 60

WHITE = (255, 255, 255)
BLACK = (0, 0, 0)
RED = (255, 0, 0)

player_width = 50
player_height = 50
player_x = 100
player_y = HEIGHT - player_height
player_y_change = 0
gravity = 0.5
jump_strength = 10
is_jumping = False

obstacle_width = 50
obstacle_height = random.randint(20, 70)
obstacle_x = WIDTH
obstacle_y = HEIGHT - obstacle_height

pygame.init()
screen = pygame.display.set_mode((WIDTH, HEIGHT))
pygame.display.set_caption("قفز الحواجز")
clock = pygame.time.Clock()

def game_loop():
    global player_y, player_y_change, is_jumping, obstacle_x, obstacle_height

    running = True
    while running:
        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                running = False

        keys = pygame.key.get_pressed()
        if keys[pygame.K_SPACE] and not is_jumping:
            is_jumping = True
            player_y_change = -jump_strength

        if is_jumping:
            player_y += player_y_change
            player_y_change += gravity
            if player_y >= HEIGHT - player_height:
                player_y = HEIGHT - player_height
                is_jumping = False

        obstacle_x -= 5
        if obstacle_x < 0:
            obstacle_x = WIDTH
            obstacle_height = random.randint(20, 70)

        screen.fill(WHITE)
        pygame.draw.rect(screen, BLACK, (player_x, player_y, player_width, player_height))
        pygame.draw.rect(screen, RED, (obstacle_x, HEIGHT - obstacle_height, obstacle_width, obstacle_height))

        pygame.display.flip()
        clock.tick(FPS)

    pygame.quit()

game_loop()
